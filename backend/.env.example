# EduStream TutorConnect - Backend Environment Configuration
# Copy this file to .env and fill in your actual values

# =============================================================================
# CRITICAL SECURITY SETTINGS
# =============================================================================

# SECRET_KEY: REQUIRED for JWT token signing (minimum 32 characters)
# Generate a secure key with: python -c 'import secrets; print(secrets.token_hex(32))'
# DO NOT use the default value in production!
SECRET_KEY=your-secret-key-min-32-characters-long-change-in-production

# Algorithm for JWT encoding (recommended: HS256)
ALGORITHM=HS256

# JWT token expiration time in minutes
ACCESS_TOKEN_EXPIRE_MINUTES=30

# =============================================================================
# DATABASE CONFIGURATION
# =============================================================================

DATABASE_URL=postgresql://postgres:postgres@db:5432/authapp

# =============================================================================
# APPLICATION SETTINGS
# =============================================================================

APP_NAME=TutorConnect API
APP_VERSION=1.0.0
DEBUG=false

# =============================================================================
# CORS CONFIGURATION
# =============================================================================

# Comma-separated list of allowed origins
# Example: https://app.example.com,https://admin.example.com
CORS_ORIGINS=https://edustream.valsa.solutions,http://edustream.valsa.solutions,https://api.valsa.solutions,http://api.valsa.solutions

# =============================================================================
# RATE LIMITING
# =============================================================================

RATE_LIMIT_ENABLED=true
RATE_LIMIT_REGISTRATION=5/minute
RATE_LIMIT_LOGIN=10/minute
RATE_LIMIT_DEFAULT=20/minute

# =============================================================================
# ENVIRONMENT
# =============================================================================

# Environment: development, staging, production
# Affects security headers (HSTS) and logging
ENVIRONMENT=development

# =============================================================================
# DEFAULT USERS
# =============================================================================
# NOTE: If passwords are not set, secure random passwords are generated on first startup.
# Check logs for auto-generated credentials (shown only once!)

DEFAULT_ADMIN_EMAIL=admin@example.com
# DEFAULT_ADMIN_PASSWORD=  # Leave empty for auto-generated secure password
DEFAULT_TUTOR_EMAIL=tutor@example.com
# DEFAULT_TUTOR_PASSWORD=  # Leave empty for auto-generated secure password
DEFAULT_STUDENT_EMAIL=student@example.com
# DEFAULT_STUDENT_PASSWORD=  # Leave empty for auto-generated secure password

# =============================================================================
# AVATAR STORAGE (MinIO / S3-compatible)
# =============================================================================

AVATAR_STORAGE_ENDPOINT=http://minio:9000
AVATAR_STORAGE_ACCESS_KEY=minioadmin
AVATAR_STORAGE_SECRET_KEY=minioadmin123
AVATAR_STORAGE_BUCKET=user-avatars
AVATAR_STORAGE_REGION=
AVATAR_STORAGE_USE_SSL=true
AVATAR_STORAGE_PUBLIC_ENDPOINT=https://minio.valsa.solutions
AVATAR_STORAGE_URL_TTL_SECONDS=300
AVATAR_STORAGE_DEFAULT_URL=https://placehold.co/300x300?text=Avatar

# =============================================================================
# VALIDATION SETTINGS
# =============================================================================

PASSWORD_MIN_LENGTH=6
PASSWORD_MAX_LENGTH=128
EMAIL_MAX_LENGTH=254
MAX_BOOKING_HOURS=8

# =============================================================================
# PAGINATION
# =============================================================================

DEFAULT_PAGE_SIZE=50
MAX_PAGE_SIZE=100

# =============================================================================
# STRIPE PAYMENT INTEGRATION
# =============================================================================
# Get your keys from: https://dashboard.stripe.com/apikeys
# Use test keys (sk_test_..., pk_test_...) for development

# Secret key for server-side API calls
STRIPE_SECRET_KEY=sk_test_your_stripe_secret_key

# Publishable key for client-side (safe to expose)
STRIPE_PUBLISHABLE_KEY=pk_test_your_stripe_publishable_key

# Webhook signing secret for verifying Stripe webhooks
# Get from: https://dashboard.stripe.com/webhooks
STRIPE_WEBHOOK_SECRET=whsec_your_webhook_secret

# Your frontend URLs for checkout redirects
FRONTEND_SUCCESS_URL=https://edustream.valsa.solutions/bookings/{booking_id}?payment=success
FRONTEND_CANCEL_URL=https://edustream.valsa.solutions/bookings/{booking_id}?payment=cancelled

# =============================================================================
# GOOGLE OAUTH/OIDC AUTHENTICATION
# =============================================================================
# Get credentials from: https://console.cloud.google.com/apis/credentials
# Create an OAuth 2.0 Client ID (Web application)

GOOGLE_CLIENT_ID=your_google_client_id.apps.googleusercontent.com
GOOGLE_CLIENT_SECRET=your_google_client_secret

# Redirect URI configured in Google Cloud Console
# Must match exactly: https://api.valsa.solutions/api/auth/google/callback
GOOGLE_REDIRECT_URI=https://api.valsa.solutions/api/auth/google/callback

# =============================================================================
# BREVO (SENDINBLUE) EMAIL SERVICE
# =============================================================================
# Get your API key from: https://app.brevo.com/settings/keys/api

BREVO_API_KEY=your_brevo_api_key

# Sender configuration
EMAIL_SENDER_NAME=EduStream
EMAIL_SENDER_EMAIL=noreply@edustream.valsa.solutions

# =============================================================================
# ZOOM VIDEO CONFERENCING INTEGRATION
# =============================================================================
# Create a Server-to-Server OAuth app at: https://marketplace.zoom.us/develop/create
# Select "Server-to-Server OAuth" app type

ZOOM_CLIENT_ID=your_zoom_client_id
ZOOM_CLIENT_SECRET=your_zoom_client_secret
ZOOM_ACCOUNT_ID=your_zoom_account_id

# =============================================================================
# FEATURE FLAGS
# =============================================================================

# Enable/disable payment processing (disable for testing)
PAYMENTS_ENABLED=true

# Enable/disable email notifications (disable for testing)
EMAILS_ENABLED=true

# Enable/disable Zoom integration (disable for testing)
ZOOM_ENABLED=true
