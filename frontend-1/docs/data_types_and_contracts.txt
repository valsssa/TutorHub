
# EduConnect Data Types & Contracts

This document outlines the data models, interfaces, and API contracts used within the EduConnect application.

## Legend
*   **[PK]**: Primary Key
*   **[FK]**: Foreign Key
*   **[MOCK]**: Field used primarily for prototyping/mock data convenience (might be relational or computed in production).
*   **?**: Optional / Nullable

---

## 1. Enums

### UserRole
*   `STUDENT`
*   `TUTOR`
*   `ADMIN`
*   `OWNER`

### SessionStatus
*   `upcoming`
*   `completed`
*   `cancelled`

### VerificationStatus
*   `pending`
*   `approved`
*   `rejected`

### StudentType (Tutor CRM)
*   `Subscription`
*   `Trial`
*   `Cancelled`

---

## 2. Domain Models

### User
*Base entity for all platform users.*

| Field | Type | Required | Description |
| :--- | :--- | :--- | :--- |
| `id` | string | Yes | [PK] Unique identifier. |
| `name` | string | Yes | Full display name. |
| `role` | UserRole | Yes | Permissions level. |
| `avatarUrl` | string | Yes | URL to profile image. |
| `balance` | number | No | [MOCK] Student wallet balance. |
| `earnings` | number | No | [MOCK] Tutor total earnings. |
| `savedTutorIds`| string[] | No | [MOCK] Array of IDs for bookmarked tutors. |

### Tutor
*Extended profile information for users with role TUTOR.*

| Field | Type | Required | Description |
| :--- | :--- | :--- | :--- |
| `id` | string | Yes | [PK] Matches User ID. |
| `name` | string | Yes | Display name. |
| `title` | string | Yes | Professional headline (e.g., "PhD in Physics"). |
| `subject` | string | Yes | Primary subject taught. |
| `rating` | number | Yes | Aggregate rating (0.0 - 5.0). |
| `reviews` | number | Yes | Total count of reviews. |
| `hourlyRate` | number | Yes | Cost per hour in USD. |
| `isVerified` | boolean | Yes | Verification badge status. |
| `imageUrl` | string | Yes | Profile picture URL. |
| `bio` | string | Yes | Detailed description (Markdown supported). |
| `topics` | string[] | Yes | Specific skills (e.g., "Calculus", "Algebra"). |
| `availability` | string[] | Yes | Array of ISO 8601 Date strings representing open slots. |
| `education` | string[] | Yes | List of degrees/certifications. |
| `philosophy` | string | Yes | Teaching methodology text. |
| `reviewsList` | Review[] | Yes | [MOCK] Embedded list of reviews (Production: separate endpoint). |
| `videoUrl` | string | No | URL to introduction video (YouTube/Vimeo). |
| `nativeLanguage`| string | No | The tutor's primary language. |
| `languages` | string[] | No | Additional languages spoken. |
| `isCalendarConnected`| boolean | No | [MOCK] Status of Google Calendar integration. |

### TutorStudent (CRM View)
*Represents a student from the Tutor's perspective (CRM).*

| Field | Type | Required | Description |
| :--- | :--- | :--- | :--- |
| `id` | string | Yes | [PK] Student User ID. |
| `name` | string | Yes | Student name. |
| `avatar` | string | No | Student avatar URL. |
| `type` | StudentType | Yes | Engagement level (Trial/Subscription). |
| `lessonsCompleted`| number | No | Count of finished lessons. |
| `lessonsTotal` | number | No | Total lessons in package/history. |
| `nextLessonAt` | string | No | ISO Date string of upcoming lesson. |
| `suggestedAction` | string | No | [MOCK] Recommended action (e.g., "Message student"). |

### AdminProfile
*Internal user model for platform administrators.*

| Field | Type | Required | Description |
| :--- | :--- | :--- | :--- |
| `id` | string | Yes | [PK] Unique identifier. |
| `name` | string | Yes | Full Name. |
| `email` | string | Yes | Contact/Login email. |
| `role` | string | Yes | Permission level string (e.g., "ADMIN", "MODERATOR"). |
| `status` | string | Yes | e.g., "Active", "Suspended". |
| `joinedDate` | string | Yes | ISO Date string. |

### Session
*Represents a booked lesson between a Student and a Tutor.*

| Field | Type | Required | Description |
| :--- | :--- | :--- | :--- |
| `id` | string | Yes | [PK] Unique session ID. |
| `tutorId` | string | Yes | [FK] Reference to Tutor. |
| `tutorName` | string | Yes | Snapshot of tutor name at booking. |
| `studentId` | string | Yes | [FK] Reference to Student. |
| `date` | string | Yes | ISO 8601 DateTime of the lesson start. |
| `status` | SessionStatus| Yes | Current state of the lesson. |
| `price` | number | Yes | Price paid for this specific session. |
| `subject` | string | Yes | Subject being taught. |
| `isReviewed` | boolean | No | Flag if student has left feedback. |

### Review
*Feedback left by a student for a tutor.*

| Field | Type | Required | Description |
| :--- | :--- | :--- | :--- |
| `id` | string | Yes | [PK] Unique review ID. |
| `studentName` | string | Yes | Name of the reviewer. |
| `rating` | number | Yes | 1-5 integer. |
| `comment` | string | Yes | Text content of the review. |
| `date` | string | Yes | ISO Date string of review submission. |

### VerificationRequest
*Admin object for approving tutor credentials.*

| Field | Type | Required | Description |
| :--- | :--- | :--- | :--- |
| `id` | string | Yes | [PK] Unique request ID. |
| `tutorId` | string | Yes | [FK] Tutor User ID. |
| `tutorName` | string | Yes | Name of applicant. |
| `email` | string | Yes | Contact email. |
| `subject` | string | Yes | Subject to verify. |
| `submittedDate` | string | Yes | Date string. |
| `status` | VerificationStatus | Yes | Workflow state. |
| `documents` | Document[] | Yes | Array of uploaded files. |

**Document Object:**
*   `name`: string (File name)
*   `type`: string (MIME type)
*   `url`: string (Download link)

---

## 3. Messaging Contracts

### ChatThread
| Field | Type | Required | Description |
| :--- | :--- | :--- | :--- |
| `id` | string | Yes | [PK] Thread ID. |
| `participantId` | string | Yes | [FK] ID of the *other* user in chat. |
| `participantName`| string | Yes | Name of the other user. |
| `participantAvatar`| string| Yes | Avatar of the other user. |
| `lastMessage` | string | Yes | Text preview. |
| `lastUpdated` | string | Yes | ISO DateTime. |
| `unreadCount` | number | Yes | Number of unseen messages. |
| `messages` | ChatMessage[]| Yes | History of messages. |

### ChatMessage
| Field | Type | Required | Description |
| :--- | :--- | :--- | :--- |
| `id` | string | Yes | [PK] Message ID. |
| `senderId` | string | Yes | [FK] User ID of sender. |
| `text` | string | Yes | Content. |
| `timestamp` | string | Yes | ISO DateTime. |

---

## 4. AI Service Contracts (Gemini)

### SmartSearchCriteria
*Returned by the LLM when parsing a natural language search query.*

| Field | Type | Required | Description |
| :--- | :--- | :--- | :--- |
| `subject` | string | No | Normalized subject (e.g., "Mathematics"). |
| `maxPrice` | number | No | Ceiling for hourly rate. |
| `minRating` | number | No | Floor for tutor rating. |
| `keywords` | string[] | No | Extracted specific topics (e.g., "Calculus"). |
