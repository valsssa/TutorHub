
# Non-Functional Requirements

## 1. Performance Expectations

### **Latency Targets**
*   **API Response Time:**
    *   **Read Operations (GET):** < 200ms (95th percentile). Critical for Marketplace search and Profile loading.
    *   **Write Operations (POST/PUT):** < 500ms. Booking confirmation and Message sending.
    *   **Search/Filtering:** < 300ms. Users expect instant feedback when toggling filters.
*   **First Contentful Paint (FCP):** < 1.5s on 4G networks.
*   **Time to Interactive (TTI):** < 3.0s.

### **Scalability**
*   **Concurrent Users:** The system should support at least 1,000 concurrent active users (searching/booking) without degradation.
*   **Database:** Queries for `Tutor` search must use efficient indexing (Elasticsearch/Algolia recommended over raw SQL `LIKE` for scale).

### **Asset Optimization**
*   **Images:** User avatars and profile photos must be served via CDN, resized to appropriate dimensions (e.g., thumbnails 100x100), and compressed (WebP format preferred).
*   **Bundles:** JS bundles should be split (Code Splitting) to ensure the initial load size is < 300KB (gzipped).

---

## 2. Rate Limits & Throttling Assumptions

To protect backend resources and prevent abuse, the frontend assumes the following rate limits are enforced by the API Gateway:

*   **Public API (Unauthenticated):**
    *   60 requests per minute per IP.
    *   Applies to: Login, Signup, Public Marketplace Search.
*   **Authenticated User API:**
    *   1,000 requests per hour per user.
    *   Applies to: Profile fetching, Booking history.
*   **Messaging:**
    *   60 messages per minute.
    *   Prevents spam in chat threads.
*   **Verification Uploads:**
    *   10 uploads per hour.
    *   Prevents storage spam.

**Frontend Handling:**
*   If `429 Too Many Requests` is received, the frontend must implement **Exponential Backoff** before retrying.
*   UI should display a friendly message: "You're doing that too fast. Please wait a moment."

---

## 3. Offline Behavior (PWA Standards)

### **Network Connectivity**
*   The application must detect network status changes (`navigator.onLine`).
*   **Offline Mode:**
    *   Display a global "You are offline" toast/banner.
    *   Disable "Book Now", "Send Message", and "Pay" buttons to prevent transactional errors.
    *   Allow read-only access to previously fetched data (e.g., viewing upcoming schedule if cached).

### **Caching Strategy**
*   **Static Assets:** Cache CSS, JS, and UI icons aggressively (Service Worker).
*   **API Data:**
    *   Do **not** cache sensitive financial data (Wallet Balance).
    *   Cache `Tutor` profiles for 5-10 minutes to improve navigation speed.

---

## 4. Accessibility Dependencies on Backend

To ensure the frontend meets **WCAG 2.1 AA** standards, the backend must provide specific data:

### **Alt Text & Descriptions**
*   **Images:** The `User` model should ideally support an `altText` field for profile images (or the frontend will default to "Profile picture of {name}").
*   **Verification Docs:** Status messages must be semantic text, not just color codes (Backend sends "Pending", not `status: 1`).

### **Form Validation**
*   **Error Messages:** The backend `400 Bad Request` response must return specific, human-readable error messages linked to field names (e.g., `details: { email: "Invalid email format" }`) so screen readers can announce the specific error on the specific input.

### **Semantic Structure**
*   **Headings:** Data returned from the backend (like formatted Markdown for Bios) must be sanitized to ensure it doesn't break the semantic heading hierarchy (h1-h6) of the page.

### **Timeouts**
*   **Session Extension:** If a security token is about to expire, the backend should support a mechanism to extend the session so users with disabilities who need more time to complete forms are not logged out abruptly.
