
# EduConnect Project Documentation

## 1. Project Overview
EduConnect is a high-fidelity, production-ready frontend prototype for an online tutoring marketplace. It connects students with elite educators for personalized 1-on-1 learning. The application supports three distinct user roles (Student, Tutor, Admin) and features comprehensive workflows for booking, scheduling, classroom interaction, and platform administration.

## 2. Tech Stack & Libraries
*   **Core Framework:** React 19 (Functional Components, Hooks)
*   **Styling:** Tailwind CSS (Dark mode support, custom color palette)
*   **Icons:** Lucide React
*   **Charts/Analytics:** Recharts
*   **AI Integration:** Google GenAI SDK (Gemini) for smart search parsing
*   **Language:** TypeScript

## 3. Architecture & State Management
*   **Single Page Application (SPA):** The app uses a custom router implementation within `components/layout/AppRouter.tsx` based on a `currentView` state variable.
*   **Centralized State:** `contexts/DataContext.tsx` and `App.tsx` act as the source of truth, managing global state for:
    *   `currentUser`: The logged-in entity (via `AuthContext`).
    *   `tutors`, `sessions`, `verificationRequests`, `admins`, `students`: Domain data (via `DataContext`).
    *   `chatThreads`: Messaging state.
    *   Modals and Notifications.
*   **Data Persistence:** Uses a Service Layer pattern (`services/api.ts`). Currently, the service layer returns mock data from `services/mockData.ts` with simulated latency, designed to be easily swapped for real API calls.

## 4. User Roles & Flows

### A. Student Flow
*   **Discovery:**
    *   **MarketplacePage:** Advanced filtering (Subject, Price, Country, Availability).
    *   **Smart Search:** Natural language search powered by Gemini AI (e.g., "Cheap math tutor for calculus") parsed in `geminiService.ts`.
    *   **TutorCard:** Quick view of tutor stats and "Save" functionality.
*   **Booking:**
    *   **TutorProfilePage:** Detailed view, reviews, and a navigable availability calendar.
    *   **BookingModal:** Multi-step wizard for selecting slots and confirming details.
    *   **PaymentPage:** Payment method selection (Card, Apple/Google Pay, PayPal) and breakdown.
*   **Learning:**
    *   **StudentLessonsPage:** List of upcoming and past sessions.
    *   **Classroom:** Simulated video call interface with whiteboard, chat, and media controls.
*   **Dashboard:**
    *   **StudentDashboard:** Wallet balance, upcoming session alerts, and saved tutors.

### B. Tutor Flow
*   **Dashboard (`TutorDashboard`):**
    *   Analytics (Earnings, Hours Taught, Rating).
    *   Upcoming session management with Quick Actions (Reschedule, Cancel).
    *   Pending session requests (Accept/Decline).
*   **Schedule Management:**
    *   **TutorScheduleManager:** Visual calendar to set weekly availability or specific date overrides. Includes Google Calendar integration UI.
    *   **TutorLessonScheduler:** Quick actions to add single lessons or block time off.
*   **Student Management (`TutorStudentsPage`):**
    *   CRM-style list of students (`TutorStudent` model).
    *   Actions: Message, Schedule, View Profile, View History, Add Notes, Archive.
*   **Profile:**
    *   **TutorProfileEditor:** Comprehensive form to update bio, hourly rate, subjects, and media. Includes **Image Cropping & Zooming** modal for profile photos.
    *   **VerificationManager:** Document upload system to gain "Verified" status.
*   **Financials:**
    *   **TutorEarningsPage:** Detailed breakdown of earnings, payouts, and transaction history.

### C. Admin Flow
*   **Dashboard (`AdminDashboard`):**
    *   Platform-wide analytics (Revenue, Active Users, System Logs).
    *   **Verification Queue:** Review pending tutor documents (Approve/Reject logic).
    *   **Owner Controls:** Specific features for the Platform Owner (Billing, Danger Zone).
*   **Sub-Pages:**
    *   **AdminRevenuePage:** Detailed financial reporting.
    *   **AdminVerificationsPage:** dedicated queue for credential review.
    *   **AdminSessionsPage:** Global history of all platform sessions.
    *   **AdminTutorsPage:** Master list of all registered tutors.
    *   **AdminManagePage:** Role-based access control for platform administrators.

### D. Shared Features
*   **Authentication (`LoginPage`):** Login, Signup, Email Verification, Password Reset. Includes client-side form validation.
*   **Messaging (`MessagingSystem`):** Global slide-out chat overlay supporting real-time simulated messaging between users. Handles thread creation if one does not exist.
*   **Settings (`SettingsPage`):** Account details, password management, payment methods, and notifications.
*   **Navigation (`Navbar`):** Role-aware navigation links, theme toggle, user dropdown, and notifications.

## 5. Component Breakdown (File Structure)

### Root
*   `App.tsx`: Main entry point, providers setup.
*   `domain/types.ts`: TypeScript interfaces (`User`, `Tutor`, `Session`, `TutorStudent`, `AdminProfile`, etc.).
*   `services/`:
    *   `api.ts`: Centralized API service layer.
    *   `mockData.ts`: Mock data seed.
    *   `geminiService.ts`: AI integration.

### Shared Components
*   `components/layout/Navbar.tsx`: Top navigation bar.
*   `components/layout/Footer.tsx`: Site footer with links.
*   `components/shared/UI.tsx`: Generic `Modal`, `Badge` components.
*   `components/shared/VisualCalendar.tsx`: Reusable calendar grid.
*   `components/shared/ReviewModal.tsx`: Star rating and comment form.
*   `components/shared/CookieBanner.tsx`: GDPR compliant cookie consent popup.
*   `components/classroom/Classroom.tsx`: Video conferencing interface.
*   `components/messaging/MessagingSystem.tsx`: Chat UI overlay.

### Domain: Auth
*   `pages/LoginPage.tsx`: Handles all auth states.

### Domain: Marketplace (Student View)
*   `pages/MarketplacePage.tsx`: Main search grid.
*   `components/tutor/TutorCard.tsx`: Individual result item.
*   `pages/TutorProfilePage.tsx`: Public profile view for tutors.

### Domain: Dashboard (Student)
*   `pages/StudentDashboard.tsx`: Main hub. (Replaced `domains/dashboard/StudentDashboard.tsx`)
*   `pages/StudentLessonsPage.tsx`: Session list.
*   `pages/SavedTutorsPage.tsx`: Favorites list.

### Domain: Dashboard (Tutor)
*   `pages/TutorDashboard.tsx`: Main hub with charts.
*   `pages/TutorStudentsPage.tsx`: Student CRM list.
*   `pages/TutorEarningsPage.tsx`: Financials.
*   `components/dashboard/TutorProfileEditor.tsx`: Edit profile form with Photo Cropper.
*   `components/dashboard/TutorScheduleManager.tsx`: Availability settings.
*   `components/dashboard/TutorLessonScheduler.tsx`: Manual scheduling tool.
*   `components/dashboard/VerificationManager.tsx`: Document upload UI.

### Domain: Dashboard (Admin)
*   `pages/AdminDashboard.tsx`: Main Admin/Owner hub.
*   `pages/AdminRevenuePage.tsx`: Financial reports.
*   `pages/AdminVerificationsPage.tsx`: Credential review.
*   `pages/AdminSessionsPage.tsx`: Session history.
*   `pages/AdminTutorsPage.tsx`: Tutor registry.
*   `pages/AdminManagePage.tsx`: Admin user management.

### Domain: Booking & Payment
*   `components/booking/BookingModal.tsx`: Booking flow modal.
*   `pages/PaymentPage.tsx`: Checkout screen.

### Domain: Static & Marketing Pages
*   `pages/PricingPage.tsx`
*   `pages/MobileAppPage.tsx`
*   `pages/BecomeTutorPage.tsx`
*   `pages/ReferralPage.tsx`
*   `pages/SuccessStoriesPage.tsx`
*   `pages/AffiliateProgramPage.tsx`
*   `pages/TutorRulesPage.tsx`
*   `pages/CancellationPolicyPage.tsx`
*   `pages/SupportPage.tsx`
*   `pages/LegalPage.tsx`
*   `pages/TermsPage.tsx`
*   `pages/PrivacyPage.tsx`
*   `pages/CookiePolicyPage.tsx`

## 6. Key Data Models (`domain/types.ts`)
*   **User:** Base entity with role (STUDENT, TUTOR, ADMIN, OWNER).
*   **Tutor:** Extends user concepts, includes `hourlyRate`, `subjects`, `availability` (ISO strings), `reviews`.
*   **Session:** Represents a booked lesson link between a Tutor and a Student.
*   **TutorStudent:** CRM view model for students associated with a tutor.
*   **AdminProfile:** Internal user model for platform administrators.
*   **VerificationRequest:** Tracks status of tutor document uploads.

## 7. AI Integration
*   **Gemini Service (`services/geminiService.ts`):** 
    *   Takes raw text input from the search bar.
    *   Uses `gemini-3-flash-preview`.
    *   Returns structured JSON criteria (`subject`, `maxPrice`, `minRating`) to filter the marketplace list automatically.
